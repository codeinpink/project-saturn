<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">New Commitment</h4>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form name="newCommitmentForm" class="form-horizontal">
                <div class="form-group">
                    <label class="control-label col-sm-3">
                        Feature:
                        <span ng-if="submitted && newCommitmentForm.feature.$error.required">*</span>
                    </label>
                    <div class="col-sm-9">
                        <select class="form-control" name="feature" ng-model="commitment.feature"
                            ng-options="opt.name for opt in features" required>
                        </select>
                    </div>
                    <div class="col-sm-push-3 col-sm-9">
                        <div class="checkbox">
                          <label>
                            <input type="checkbox" value="" checked ng-click="toggleFeatureSource()">
                            Show Only My Team's Features
                          </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">
                        Commitment Name:
                        <span ng-if="submitted && newCommitmentForm.name.$error.required">*</span>
                    </label>
                    <div class="col-sm-9">
                        <input type="text" ng-model="commitment.name" class="form-control"
                        name="name" value="{[{ commitment.name }]}" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">
                        Commitment Status:
                        <span ng-if="submitted && newCommitmentForm.status.$error.required">*</span>
                    </label>
                    <div class="col-sm-9">
                        <select class="form-control col-sm-9" ng-model="commitment.status"
                            ng-options="opt for opt in commitmentStatusOptions"
                            name="status" required>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">
                        Definition of Done:
                        <span ng-if="submitted && newCommitmentForm.done_definition.$error.required">*</span>
                    </label>
                    <div class="col-sm-9">
                        <select class="form-control col-sm-9" ng-model="commitment.done_definition"
                        ng-options="opt for opt in defOfDoneOptions"
                        name="done_definition" required>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">
                        Start Iteration:
                        <span ng-if="submitted && newCommitmentForm.start.$error.required">*</span>
                    </label>
                    <div class="col-sm-9">
                        <select class="form-control col-sm-9" ng-model="commitment.start"
                            ng-options="opt for opt in iterationOptions"
                            name="start" required>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">
                        Finish Iteration:
                        <span ng-if="submitted && newCommitmentForm.stop.$error.required">*</span>
                    </label>
                    <div class="col-sm-9">
                        <select class="form-control col-sm-9" ng-model="commitment.stop"
                            ng-options="opt for opt in iterationOptions"
                            name="stop" required>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-3">
                        Comments:
                        <span ng-if="submitted && newCommitmentForm.comments.$error.required">*</span>
                    </label>
                    <div class="col-sm-9">
                        <textarea ng-model="commitment.notes" class="form-control" rows="3"
                        name="comments" ng-required="commitment.done_definition === 'OTHER - DESCRIBED IN COMMENTS'">{[{ commitment.notes }]}</textarea>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-success" ng-click="saveCommitment(commitment)">Save</button>
        <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
    </div>
</div>
