{% extends "base.html" %}
{% load staticfiles %}
{% block bg %}
grey-bg
{% endblock %}

{% block content %}
<div style="margin-top: 60px;">
	<div class="container white-bg" ng-controller="teamViewCtrl as teamCtrl">

				<div class="row">
					<div id = "teamId" style="display: none;" >{{team_id}}</div>
					<a href="http://td-tstsrv.adtran.com/Planning/wizard_test.html" target="_blank" class="btn btn-success pull-left" style="margin: 30px 0;">Add Features/Commitments</a>
				</div>

				<div class="row">
					<table datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs" class="table row-border table-hover table-striped">
						<thead>
							<tr>
								<th style="border-bottom: 0px;" colspan="10"></th>
								<th style="border-bottom: 0px;"><button type="button" ng-click="addCommitment()" class="btn btn-success"><i class="glyphicon glyphicon-plus"></i></button></th>
							</tr>
							<tr>
								<th ng-repeat="col in columns">{[{col}]}</th>
								<th></th>
								<th></th>
								<th></th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="commitment in teamObj.commitment_set">
								<td >{[{ commitment.name }]}</td>
								<td >{[{ commitment.feature.name }]}</td>
								<td >{[{ commitment.status }]}</td>
								<td >{[{ commitment.done_definition }]}</td>
								<td >{[{ commitment.start }]}</td>
								<td >{[{ commitment.stop }]}</td>
								<td >{[{ commitment.notes }]}</td>
								<td><button type="button" ng-click="showRisks(commitment)" class="btn btn-default">Risks</button></td>
								<td><button type="button" ng-click="showDependencies(commitment)" class="btn btn-default">Dependencies</button></td>
								<td><button type="button" ng-click="editCommitment('', commitment)" class="btn btn-warning"><i class="glyphicon glyphicon-edit"></i></button></td>
								<td><button type="button" ng-click="showConfirmationPrompt('', commitment)" class="btn btn-danger"><i class="glyphicon glyphicon-trash"></i></button></td>
							</tr>
						</tbody>
					</table>
				</div>

	</div>
</div>

{% endblock %}

{% block script %}
<script type="text/javascript" src = "{% static "js/controllers/RiskCtrl.js" %}"></script>
<script type="text/javascript" src = "{% static "js/controllers/DependencyCtrl.js" %}"></script>
{% endblock script %}
